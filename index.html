<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
  <title>Hackers Cup | 26th Annual Road Trip</title>
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
  
  <!-- Tailwind Config -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
          },
          colors: {
            hackers: {
              dark: '#0f172a',
              navy: '#1e3a5f',
              sky: '#0ea5e9',
              light: '#38bdf8',
              gold: '#f59e0b',
              surface: '#1e293b',
            }
          },
          animation: {
            'fade-in': 'fadeIn 0.5s ease-in-out',
            'slide-up': 'slideUp 0.6s ease-out',
            'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
          },
          keyframes: {
            fadeIn: {
              '0%': { opacity: '0' },
              '100%': { opacity: '1' },
            },
            slideUp: {
              '0%': { transform: 'translateY(20px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' },
            }
          }
        }
      }
    }
  </script>
  
  <style>
    /* Custom Scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    ::-webkit-scrollbar-track {
      background: #0f172a;
    }
    ::-webkit-scrollbar-thumb {
      background: #334155;
      border-radius: 4px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: #475569;
    }
    
    /* Glassmorphism Utilities */
    .glass {
      background: rgba(30, 41, 59, 0.7);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .glass-card {
      background: rgba(30, 41, 59, 0.6);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      transition: all 0.3s ease;
    }
    
    .glass-card:hover {
      background: rgba(30, 41, 59, 0.8);
      border-color: rgba(14, 165, 233, 0.3);
      transform: translateY(-4px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
    }
    
    /* Video Container Styles */
    .video-thumb {
      position: relative;
      overflow: hidden;
      border-radius: 16px;
      cursor: pointer;
    }
    
    .video-thumb::after {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, transparent 50%);
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .video-thumb:hover::after {
      opacity: 1;
    }
    
    .video-thumb video {
      transition: transform 0.5s ease;
    }
    
    .video-thumb:hover video {
      transform: scale(1.05);
    }
    
    .play-icon {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.8);
      opacity: 0;
      transition: all 0.3s ease;
      z-index: 10;
    }
    
    .video-thumb:hover .play-icon {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
    }
    
    /* Countdown Styling */
    .countdown-box {
      background: linear-gradient(135deg, rgba(14, 165, 233, 0.15) 0%, rgba(15, 23, 42, 0.4) 100%);
      border: 1px solid rgba(56, 189, 248, 0.2);
    }
    
    .countdown-number {
      background: linear-gradient(135deg, #38bdf8 0%, #0ea5e9 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    /* Sponsor Animation */
    .sponsor-fade {
      transition: opacity 0.35s ease-in-out;
    }

    .sponsor-fade.is-fading {
      opacity: 0;
    }
    
    /* Bottom Nav */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(15, 23, 42, 0.95);
      backdrop-filter: blur(20px);
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      z-index: 50;
      padding-bottom: env(safe-area-inset-bottom);
    }
    
    /* Modal */
    .modal-backdrop {
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(8px);
    }
    
    /* Hero Gradient */
    .hero-gradient {
      background: linear-gradient(135deg, #0f172a 0%, #1e3a5f 50%, #0f172a 100%);
    }
    
    /* Loading Spinner */
    .loader {
      border: 3px solid rgba(255, 255, 255, 0.1);
      border-top-color: #38bdf8;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>
<link rel="manifest" href="site.webmanifest">
</head>
<body class="bg-hackers-dark text-white font-sans antialiased pb-24">
  
  <!-- Preloader -->
  <div id="preloader" class="fixed inset-0 z-[100] bg-golf-dark flex items-center justify-center transition-opacity duration-500">
    <div class="text-center">
      <div class="loader mx-auto mb-4"></div>
      <p class="text-gray-400 text-sm tracking-wider uppercase">Loading Hackers Cup...</p>
    </div>
  </div>

  <!-- Navigation -->
  <nav class="fixed top-0 w-full z-40 glass border-b border-white/10">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <!-- Logo -->
        <div class="flex-shrink-0 flex items-center gap-3">
          <div class="w-10 h-10 rounded-full flex items-center justify-center overflow-hidden bg-hackers-navy">
            <img src="assets/images/logo.png" alt="Hackers Cup Logo" class="w-8 h-8 object-contain">
          </div>
          <span class="font-bold text-xl tracking-tight">Hackers Cup</span>
        </div>
        
        <!-- Desktop Menu -->
        <div class="hidden md:flex items-center space-x-1">
          <a href="index.html" class="px-4 py-2 rounded-lg text-sm font-medium text-white bg-white/10 hover:bg-white/20 transition-colors">Home</a>
          <a href="register.html" class="px-4 py-2 rounded-lg text-sm font-medium text-gray-300 hover:text-white hover:bg-white/10 transition-colors">Register</a>
          <a href="venue.html" class="px-4 py-2 rounded-lg text-sm font-medium text-gray-300 hover:text-white hover:bg-white/10 transition-colors">Venue</a>
          <a href="payment.html" class="px-4 py-2 rounded-lg text-sm font-medium text-gray-300 hover:text-white hover:bg-white/10 transition-colors">Payment</a>
          <a href="podcast.html" class="px-4 py-2 rounded-lg text-sm font-medium text-gray-300 hover:text-white hover:bg-white/10 transition-colors">Podcast</a>
          <a href="schedule.html" class="px-4 py-2 rounded-lg text-sm font-medium text-gray-300 hover:text-white hover:bg-white/10 transition-colors">Schedule</a>
          <a href="weather.html" class="px-4 py-2 rounded-lg text-sm font-medium text-gray-300 hover:text-white hover:bg-white/10 transition-colors">Weather</a>
          <a href="score.html" class="px-4 py-2 rounded-lg text-sm font-medium text-gray-300 hover:text-white hover:bg-white/10 transition-colors">Score</a>
          <a href="honour-roll.html" class="px-4 py-2 rounded-lg text-sm font-medium text-gray-300 hover:text-white hover:bg-white/10 transition-colors">Honour Roll</a>
          <a href="notifications-center.html" class="px-4 py-2 rounded-lg text-sm font-medium text-gray-300 hover:text-white hover:bg-white/10 transition-colors">Notifications</a>
        </div>
        
        <!-- Mobile Menu Button -->
        <div class="md:hidden">
          <button onclick="toggleMobileMenu()" class="p-2 rounded-lg text-gray-300 hover:text-white hover:bg-white/10">
            <i data-lucide="menu" class="w-6 h-6"></i>
          </button>
        </div>
      </div>
    </div>
    
    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden md:hidden glass border-t border-white/10">
      <div class="px-4 pt-2 pb-3 space-y-1">
        <a href="index.html" class="block px-3 py-2 rounded-md text-base font-medium text-white bg-hackers-sky/30">Home</a>
        <a href="register.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-white/10">Register</a>
        <a href="venue.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-white/10">Venue</a>
        <a href="payment.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-white/10">Payment</a>
        <a href="podcast.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-white/10">Podcast</a>
        <a href="schedule.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-white/10">Schedule</a>
        <a href="weather.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-white/10">Weather</a>
        <a href="score.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-white/10">Score</a>
        <a href="honour-roll.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-white/10">Honour Roll</a>
        <a href="notifications-center.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-white/10">Notifications</a>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="relative pt-24 pb-12 md:pt-32 md:pb-20 overflow-hidden hero-gradient">
    <!-- Background Pattern -->
    <div class="absolute inset-0 opacity-20">
      <div class="absolute inset-0" style="background-image: radial-gradient(circle at 1px 1px, rgba(255,255,255,0.15) 1px, transparent 0); background-size: 40px 40px;"></div>
    </div>
    
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid md:grid-cols-2 gap-8 lg:gap-12 items-center">
        <!-- Left Content -->
        <div class="space-y-6 animate-slide-up">
          <!-- User Info Badge -->
          <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full glass border border-hackers-sky/30">
            <i data-lucide="user" class="w-4 h-4 text-hackers-sky"></i>
            <span id="hacker-number" class="text-sm font-medium text-gray-300">Loading...</span>
          </div>
          
          <h1 id="user-name" class="text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight text-white leading-tight">
            Welcome to the<br>
            <span class="text-transparent bg-clip-text bg-gradient-to-r from-hackers-sky to-hackers-light">26th Annual</span><br>
            Road Trip
          </h1>
          
          <p class="text-lg md:text-xl text-gray-300 max-w-lg">
            This year we head back south to <span class="text-white font-semibold">Worrigee Links</span> for an unforgettable weekend of golf, camaraderie, and competition.
          </p>
          
          <!-- Event Date Badge -->
          <div class="flex items-center gap-3 text-transparent bg-clip-text bg-gradient-to-r from-hackers-sky to-hackers-light">
            <i data-lucide="calendar" class="w-5 h-5 text-hackers-sky"></i>
            <span id="dates" class="text-lg font-bold tracking-wide">AUGUST 21ST - 23RD 2026</span>
          </div>
          
          <!-- Countdown Timer -->
          <div class="countdown-box rounded-2xl p-4 md:p-6 w-full md:w-auto md:inline-block">
            <div class="flex items-center gap-2 mb-3 text-hackers-sky text-sm font-semibold uppercase tracking-wider">
              <i data-lucide="clock" class="w-4 h-4"></i>
              <span>T-Minus Launch</span>
            </div>
            <div class="grid grid-cols-4 gap-2 md:gap-4 text-center">
              <div class="space-y-1">
                <div id="days" class="countdown-number text-2xl md:text-4xl font-bold font-mono">00</div>
                <div class="text-xs text-gray-400 uppercase tracking-wider">Days</div>
              </div>
              <div class="space-y-1">
                <div id="hours" class="countdown-number text-2xl md:text-4xl font-bold font-mono">00</div>
                <div class="text-xs text-gray-400 uppercase tracking-wider">Hours</div>
              </div>
              <div class="space-y-1">
                <div id="minutes" class="countdown-number text-2xl md:text-4xl font-bold font-mono">00</div>
                <div class="text-xs text-gray-400 uppercase tracking-wider">Mins</div>
              </div>
              <div class="space-y-1">
                <div id="seconds" class="countdown-number text-2xl md:text-4xl font-bold font-mono">00</div>
                <div class="text-xs text-gray-400 uppercase tracking-wider">Secs</div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Right Content - Hero Image/Graphic -->
        <div class="relative animate-fade-in mt-8 md:mt-0">
          <div class="relative rounded-3xl overflow-hidden shadow-2xl border border-white/10">
            <img src="assets/images/banner-image.jpg" alt="Worrigee Links Golf Course" class="w-full h-64 md:h-auto object-cover">
            <div class="absolute inset-0 bg-gradient-to-t from-hackers-dark/80 via-transparent to-transparent"></div>
            <div class="absolute bottom-4 left-4 right-4">
              <div class="glass rounded-xl p-4 flex items-center gap-3">
                <div class="w-10 h-10 rounded-full bg-hackers-sky/20 flex items-center justify-center">
                  <i data-lucide="map-pin" class="w-5 h-5 text-hackers-sky"></i>
                </div>
                <div>
                  <p class="text-sm font-semibold text-white">Worrigee Links</p>
                  <p class="text-xs text-gray-300">New South Wales, Australia</p>
                </div>
              </div>
            </div>
          </div>
          
        </div>
      </div>
    </div>
  </section>

  <!-- Quick Actions Grid -->
  <section class="py-12 md:py-16 relative -mt-8 z-10">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        <a href="register.html" class="glass-card rounded-2xl p-6 flex flex-col items-center text-center group">
          <div class="w-14 h-14 rounded-2xl bg-blue-500/20 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform">
            <i data-lucide="user-plus" class="w-7 h-7 text-blue-400"></i>
          </div>
          <h3 class="font-bold text-white mb-1">Register</h3>
          <p class="text-xs text-gray-400">Join the event</p>
        </a>
        
        <a href="payment.html" class="glass-card rounded-2xl p-6 flex flex-col items-center text-center group">
          <div class="w-14 h-14 rounded-2xl bg-green-500/20 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform">
            <i data-lucide="credit-card" class="w-7 h-7 text-green-400"></i>
          </div>
          <h3 class="font-bold text-white mb-1">Payment</h3>
          <p class="text-xs text-gray-400">Pay fees</p>
        </a>
        
        <a href="podcast.html" class="glass-card rounded-2xl p-6 flex flex-col items-center text-center group">
          <div class="w-14 h-14 rounded-2xl bg-purple-500/20 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform">
            <i data-lucide="mic" class="w-7 h-7 text-purple-400"></i>
          </div>
          <h3 class="font-bold text-white mb-1">Podcast</h3>
          <p class="text-xs text-gray-400">Listen in</p>
        </a>
        
        <a href="honour-roll.html" class="glass-card rounded-2xl p-6 flex flex-col items-center text-center group">
          <div class="w-14 h-14 rounded-2xl bg-golf-gold/20 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform">
            <i data-lucide="award" class="w-7 h-7 text-golf-gold"></i>
          </div>
          <h3 class="font-bold text-white mb-1">Honour Roll</h3>
          <p class="text-xs text-gray-400">Hall of fame</p>
        </a>
      </div>
    </div>
  </section>

  <!-- Sponsor Section -->
  <section class="py-10 border-y border-white/5 bg-white/5">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex flex-col md:flex-row items-center justify-center gap-8">
        <div class="text-center md:text-left">
          <p class="text-sm font-semibold text-gray-400 uppercase tracking-wider mb-1">Proudly Supported By</p>
          <h3 class="text-xl font-bold text-white">Our Sponsors</h3>
        </div>
        <div class="w-52 h-36 md:w-64 md:h-40 rounded-2xl bg-white flex items-center justify-center p-3 shadow-lg shadow-black/20 border border-white/30" id="sponsor-container">
          <img id="sponsor-slide-img" src="" alt="Sponsor" class="w-full h-full object-contain sponsor-fade">
        </div>
      </div>
    </div>
  </section>

  <!-- Course Flyovers Section -->
  <section class="py-16 md:py-24">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex flex-col md:flex-row md:items-end justify-between mb-12 gap-4">
        <div>
          <div class="flex items-center gap-2 mb-2">
            <i data-lucide="video" class="w-5 h-5 text-hackers-sky"></i>
            <span class="text-hackers-sky font-semibold text-sm uppercase tracking-wider">Course Preview</span>
          </div>
          <h2 class="text-3xl md:text-4xl font-bold text-white">Worrigee Links Flyovers</h2>
          <p class="text-gray-400 mt-2">Preview all 18 holes before you play</p>
        </div>
       
      </div>
      
      <!-- Holes Grid -->
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6" id="holes-grid">
        <!-- Holes will be generated by JavaScript -->
      </div>
    </div>
  </section>

  <!-- Notification Section -->
  <section class="py-12 border-t border-white/10">
    <div class="max-w-3xl mx-auto px-4 text-center">
      <div class="glass rounded-3xl p-8 md:p-12 border border-golf-accent/20">
        <div class="w-16 h-16 rounded-2xl bg-hackers-sky/20 flex items-center justify-center mx-auto mb-6">
          <i data-lucide="bell" class="w-8 h-8 text-hackers-sky"></i>
        </div>
        <h3 class="text-2xl font-bold text-white mb-3">Stay Updated</h3>
        <p class="text-gray-400 mb-6 max-w-md mx-auto">Enable notifications to get real-time updates about tee times, scores, and event announcements.</p>
        <button id="enableNotifications" class="px-8 py-3 rounded-xl bg-hackers-sky hover:bg-sky-600 text-white font-semibold transition-colors flex items-center gap-2 mx-auto">
          <i data-lucide="bell-ring" class="w-5 h-5"></i>
          <span>Enable Notifications</span>
        </button>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="border-t border-white/10 bg-hackers-dark py-12 mb-20 md:mb-0">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex flex-col md:flex-row items-center justify-between gap-6">
        <div class="flex items-center gap-3">
          <div class="w-8 h-8 bg-gradient-to-br from-hackers-sky to-hackers-navy rounded-lg flex items-center justify-center">
            <i data-lucide="trophy" class="w-4 h-4 text-white"></i>
          </div>
          <span class="font-bold text-lg">Hackers Cup</span>
        </div>
        <p class="text-sm text-gray-500">Â© 2026 Hackers Cup. All rights reserved.</p>
        <div class="flex items-center gap-4">
          <a href="#" class="text-gray-400 hover:text-white transition-colors">
            <i data-lucide="instagram" class="w-5 h-5"></i>
          </a>
          <a href="#" class="text-gray-400 hover:text-white transition-colors">
            <i data-lucide="facebook" class="w-5 h-5"></i>
          </a>
          <a href="#" class="text-gray-400 hover:text-white transition-colors">
            <i data-lucide="twitter" class="w-5 h-5"></i>
          </a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Bottom Mobile Navigation -->
  <div class="bottom-nav md:hidden">
    <div class="flex justify-around items-center h-16 pb-safe">
      <a href="index.html" class="flex flex-col items-center justify-center w-full h-full text-hackers-sky">
        <i data-lucide="home" class="w-6 h-6 mb-1"></i>
        <span class="text-[10px] font-medium">Home</span>
      </a>
      <a href="payment.html" class="flex flex-col items-center justify-center w-full h-full text-gray-400 hover:text-white">
        <i data-lucide="credit-card" class="w-6 h-6 mb-1"></i>
        <span class="text-[10px] font-medium">Payment</span>
      </a>
      <a href="podcast.html" class="flex flex-col items-center justify-center w-full h-full text-gray-400 hover:text-white">
        <i data-lucide="mic" class="w-6 h-6 mb-1"></i>
        <span class="text-[10px] font-medium">Podcast</span>
      </a>
      <a href="score.html" class="flex flex-col items-center justify-center w-full h-full text-gray-400 hover:text-white">
        <i data-lucide="trending-up" class="w-6 h-6 mb-1"></i>
        <span class="text-[10px] font-medium">Score</span>
      </a>
    </div>
  </div>

  <!-- Video Modal -->
  <div id="videoModal" class="fixed inset-0 z-[60] hidden modal-backdrop flex items-center justify-center p-4">
    <div class="relative w-full max-w-5xl bg-black rounded-2xl overflow-hidden shadow-2xl border border-white/10">
      <button onclick="closeVideoModal()" class="absolute top-4 right-4 z-10 w-10 h-10 rounded-full bg-black/50 hover:bg-black/80 flex items-center justify-center text-white transition-colors">
        <i data-lucide="x" class="w-6 h-6"></i>
      </button>
      <video id="modalVideo" controls class="w-full aspect-video" playsinline>
        <source src="" type="video/mp4">
        Your browser does not support the video tag.
      </video>
    </div>
  </div>

  <!-- Firebase and Application Logic -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js";
    import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
    import { getMessaging, getToken, onMessage } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-messaging.js";
    
    const firebaseConfig = {
      apiKey: "AIzaSyAYat6m3-Lv46vfm6xcHLjTjRDq7NdCxAk",
      authDomain: "hackers-cup.firebaseapp.com",
      databaseURL: "https://hackers-cup-default-rtdb.firebaseio.com",
      projectId: "hackers-cup",
      storageBucket: "hackers-cup.appspot.com",
      messagingSenderId: "765736070872",
      appId: "1:765736070872:web:86a51c41916e7af75631ad",
      measurementId: "G-6E1M14F510"
    };
    
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const database = getDatabase(app);
    const auth = getAuth(app);
    const messaging = getMessaging(app);
    
    // Auth State Management
    onAuthStateChanged(auth, (user) => {
      if (!user) {
        window.location.href = 'login.html';
      } else {
        loadUserData(user);
      }
    });
    
    function loadUserData(user) {
      // Load Display Name
      const userRef = ref(database, `users/${user.uid}/displayName`);
      onValue(userRef, (snapshot) => {
        const displayName = snapshot.val();
        const nameElement = document.getElementById('user-name');
        if (displayName && nameElement) {
          nameElement.innerHTML = `Welcome,<br><span class="text-transparent bg-clip-text bg-gradient-to-r from-hackers-sky to-hackers-light">${displayName}</span>`;
        } else if (nameElement) {
          nameElement.textContent = 'Welcome, Hacker';
          // Prompt for name if not set
          const name = prompt('Please enter your display name:');
          if (name && name.trim() !== '') {
            set(userRef, name.trim());
          }
        }
      });
      
      // Load Hacker Number
      const hackerRef = ref(database, `users/${user.uid}/hackerNumber`);
      onValue(hackerRef, (snapshot) => {
        const hackerNumber = snapshot.val();
        const hackerElement = document.getElementById('hacker-number');
        if (hackerNumber && hackerElement) {
          hackerElement.textContent = `G'day, Hacker No. ${hackerNumber}`;
        } else if (hackerElement) {
          hackerElement.textContent = "G'day, Hacker";
        }
      });
    }
    
    // Countdown Timer
    function updateCountdown() {
      const targetDate = new Date("August 20, 2026 11:30:00 GMT+1000");
      const currentDate = new Date();
      const diff = targetDate - currentDate;
      
      if (diff < 0) {
        document.getElementById('days').textContent = '00';
        document.getElementById('hours').textContent = '00';
        document.getElementById('minutes').textContent = '00';
        document.getElementById('seconds').textContent = '00';
        return;
      }
      
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diff % (1000 * 60)) / 1000);
      
      document.getElementById('days').textContent = days.toString().padStart(2, '0');
      document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
      document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
      document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
    }
    
    setInterval(updateCountdown, 1000);
    updateCountdown();
    
    // Initialize Icons
    lucide.createIcons();
    
    // Remove Preloader
    (function handlePreloader() {
      const preloader = document.getElementById('preloader');
      if (!preloader) return;

      const hasVisited = localStorage.getItem('hc_preloaded') === '1';
      let removed = false;

      const hidePreloader = () => {
        if (removed) return;
        removed = true;
        preloader.style.opacity = '0';
        setTimeout(() => preloader.remove(), 300);
        localStorage.setItem('hc_preloaded', '1');
      };

      if (hasVisited) {
        preloader.style.opacity = '0';
        preloader.remove();
        return;
      }

      window.addEventListener('load', hidePreloader, { once: true });
      setTimeout(hidePreloader, 3000);
    })();
    
    // Mobile Menu Toggle
    window.toggleMobileMenu = function() {
      const menu = document.getElementById('mobile-menu');
      menu.classList.toggle('hidden');
    };
    
    // Notifications
    async function initNotifications() {
      try {
        const permission = await Notification.requestPermission();
        if (permission === "granted") {
          const token = await getToken(messaging, {
            vapidKey: "BO4uGOEfVg5qRKLRTapkgdZJj22xf3_CBV1TlZg_jjCkvDg0qEVB46mgewqtK9MrUy1atMjlJS4DefmX7fI-IYg"
          });
          
          const user = auth.currentUser;
          if (user && token) {
            await set(ref(database, `fcmTokens/${user.uid}`), token);
            
            // Show success feedback
            const btn = document.getElementById('enableNotifications');
            btn.innerHTML = '<i data-lucide="check-circle" class="w-5 h-5"></i><span>Notifications Enabled!</span>';
            btn.classList.remove('bg-hackers-sky');
            btn.classList.add('bg-green-600');
            lucide.createIcons();
          }
        }
      } catch (error) {
        console.error("Error:", error);
        alert("Could not enable notifications. Please try again.");
      }
    }
    
    document.getElementById('enableNotifications')?.addEventListener('click', (e) => {
      e.preventDefault();
      initNotifications();
    });
    
    onMessage(messaging, (payload) => {
      console.log("Message received:", payload);
      // Show custom notification UI here if needed
    });
    
    // Service Worker Registration for Notifications
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/firebase-messaging-sw.js')
        .catch(err => console.log('SW registration failed:', err));
    }
  </script>
  
  <!-- Sponsor Slideshow -->
  <script>
    const sponsorImages = [
      'assets/images/sponsors/1.png',
      'assets/images/sponsors/2.jpg',
      'assets/images/sponsors/3.png',
      'assets/images/sponsors/4.png',
      'assets/images/sponsors/5.png',
      'assets/images/sponsors/6.png',
      'assets/images/sponsors/7.png',
      'assets/images/sponsors/8.png',
      'assets/images/sponsors/9.webp',
      'assets/images/sponsors/10.png',
      'assets/images/sponsors/11.png',
      'assets/images/sponsors/12.png'
    ];
    
    let sponsorIndex = 0;
    
    let sponsorTransitioning = false;

    function rotateSponsor() {
      const img = document.getElementById('sponsor-slide-img');
      if (!img || sponsorTransitioning || sponsorImages.length === 0) {
        return;
      }

      const nextIndex = (sponsorIndex + 1) % sponsorImages.length;
      const nextSrc = sponsorImages[nextIndex];
      sponsorTransitioning = true;

      const preload = new Image();
      preload.onload = () => {
        img.classList.add('is-fading');
        setTimeout(() => {
          img.src = nextSrc;
          sponsorIndex = nextIndex;
          img.classList.remove('is-fading');
          sponsorTransitioning = false;
        }, 300);
      };
      preload.src = nextSrc;
    }
    
    // Initialize sponsor
    document.addEventListener('DOMContentLoaded', () => {
      const img = document.getElementById('sponsor-slide-img');
      if (img && sponsorImages.length > 0) {
        img.src = sponsorImages[0];
        img.classList.remove('is-fading');
        setInterval(rotateSponsor, 3500);
      }
      
      // Generate Hole Cards
      generateHoleCards();
    });
  </script>
  
  <!-- Hole Videos Generation -->
  <script>
    const holes = [
      { num: 1, par: 5, dist: '468m', video: 'hole_1-1080p.mp4' },
      { num: 2, par: 3, dist: '202m', video: 'hole_2-1080p.mp4' },
      { num: 3, par: 4, dist: '324m', video: 'hole_3-1080p.mp4' },
      { num: 4, par: 5, dist: '279m', video: 'hole_4-1080p-1.mp4' },
      { num: 5, par: 4, dist: '370m', video: 'hole_5-1080p.mp4' },
      { num: 6, par: 3, dist: '162m', video: 'hole_6-1080p.mp4' },
      { num: 7, par: 5, dist: '478m', video: 'hole_7-1080p.mp4' },
      { num: 8, par: 3, dist: '157m', video: 'hole_8-1080p.mp4' },
      { num: 9, par: 4, dist: '346m', video: 'hole_9-1080p.mp4' },
      { num: 10, par: 4, dist: '335m', video: 'hole_10-1080p.mp4' },
      { num: 11, par: 5, dist: '444m', video: 'hole_11-1080p.mp4' },
      { num: 12, par: 3, dist: '185m', video: 'hole_12-1080p.mp4' },
      { num: 13, par: 4, dist: '280m', video: 'hole_13-1080p-1.mp4' },
      { num: 14, par: 3, dist: '175m', video: 'hole_14-1080p.mp4' },
      { num: 15, par: 4, dist: '242m', video: 'hole_15-1080p.mp4' },
      { num: 16, par: 4, dist: '350m', video: 'hole_16-1080p.mp4' },
      { num: 17, par: 3, dist: '132m', video: 'hole_17-1080p.mp4' },
      { num: 18, par: 5, dist: '445m', video: 'hole_18-1080p.mp4' }
    ];
    
    function generateHoleCards() {
      const grid = document.getElementById('holes-grid');
      if (!grid) return;
      
      const baseUrl = 'https://worrigeelinks.com.au/wp-content/uploads/2025/06/';
      
      holes.forEach(hole => {
        const card = document.createElement('div');
        card.className = 'glass-card rounded-2xl overflow-hidden group cursor-pointer';
        card.onclick = () => openVideoModal(baseUrl + hole.video);
        
        card.innerHTML = `
          <div class="video-thumb aspect-video relative bg-black">
            <video preload="metadata" muted playsinline class="w-full h-full object-cover">
              <source src="${baseUrl}${hole.video}#t=0.001" type="video/mp4">
            </video>
            <div class="play-icon w-16 h-16 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center border-2 border-white">
              <i data-lucide="play" class="w-8 h-8 text-white fill-white ml-1"></i>
            </div>
            <div class="absolute top-3 right-3 px-3 py-1 rounded-full bg-black/60 backdrop-blur-sm text-xs font-bold text-white border border-white/20">
              ${hole.dist}
            </div>
          </div>
          <div class="p-4">
            <div class="flex items-center justify-between mb-2">
              <h4 class="text-lg font-bold text-white">Hole ${hole.num}</h4>
              <span class="px-3 py-1 rounded-full bg-hackers-sky/20 text-hackers-sky text-xs font-semibold border border-hackers-sky/20">
                Par ${hole.par}
              </span>
            </div>
            <div class="flex items-center gap-2 text-sm text-gray-400">
              <i data-lucide="video" class="w-4 h-4"></i>
              <span>Watch Flyover</span>
            </div>
          </div>
        `;
        
        grid.appendChild(card);
      });
      
      // Initialize icons for new content
      lucide.createIcons();
      
      // Add hover play effect to videos
      document.querySelectorAll('.video-thumb video').forEach(video => {
        video.parentElement.addEventListener('mouseenter', () => {
          video.play().catch(() => {});
        });
        video.parentElement.addEventListener('mouseleave', () => {
          video.pause();
          video.currentTime = 0;
        });
      });
    }
    
    // Video Modal Functions
    window.openVideoModal = function(videoUrl) {
      const modal = document.getElementById('videoModal');
      const video = document.getElementById('modalVideo');
      const source = video.querySelector('source');
      
      source.src = videoUrl;
      video.load();
      modal.classList.remove('hidden');
      video.play();
      
      // Prevent body scroll
      document.body.style.overflow = 'hidden';
    };
    
    window.closeVideoModal = function() {
      const modal = document.getElementById('videoModal');
      const video = document.getElementById('modalVideo');
      
      video.pause();
      video.currentTime = 0;
      modal.classList.add('hidden');
      document.body.style.overflow = '';
    };
    
    // Close modal on outside click
    document.getElementById('videoModal')?.addEventListener('click', (e) => {
      if (e.target === e.currentTarget) {
        closeVideoModal();
      }
    });
    
    // Close on ESC key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closeVideoModal();
      }
    });
  </script>
</body>
</html>